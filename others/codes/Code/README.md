# Foma-based tagset translation

## I. Contents

The following is a brief description of this directories contents. We group the contents
into three categories: lexc files, Python scripts, and csv/text files.


#### A. LEXC files

- tagsetTranlation.lexc is generated by read_csv_file.py. When compiled in FOMA, it yields the finite-state transducer tagsetTranslation.fst. The pertanent FOMA commands are as follows:

	> foma[0]: read lexc tagsetTranslation.lexc  
	> foma[1]: save stack tagsetTranslation.fst

- test.lexc and penn.lexc (and their corresponding .fst files if they exist) are test files and are thus non-essential.


#### B. Python scripts

- `getTrainingCorpus.py` extracts a POS-tagged subcorpus (part or all) of the Brown Corpus. The tags are those of the Brown tagset.
- `read_csv_file.py` reads the spreadsheet BrownTagsetTranslation.csv and translates its (row, column) mappings to a set of rules for a finite-state transducer (FST). It writes these rules to a lexc file, namely tagsetTranslation.lexc (see above).
- `foma.py` is a module that makes it possible to call work with FOMA (and thus FOMA-compiled FSTs) from within a Python script. The user just imports “foma”.
- `brownToFLE.py` invokes tagsetTranslator.fst to map Brown-Corpus tags to FLE (Free Linguistic Environment) tags. It takes as input a text file formatted as follows:

	> \<word1>	\<tag1>  
	> \<word2>	\<tag2>  
	> ...  
	
	That is, each word begins a new line. The output is written to stdout.

- `tagsTrans.py` is a demo python script. It provides an example of how one might use the module foma.py, but it is not otherwise relevant to this task.


#### C. CSV and text files

- `BrownTagsetTranslation.csv`   
is a spreadsheet (i.e., a table) whose rows are Brown tags. There are currently several columns, but the most important ones are “FLE tag,” “FLE sub tag,” and “FLE features.”

- `tokens_with_brown_tags_ca01.txt`  
is the portion of the Brown Corpus labeled “ca01”. It good be replaced with any corpus tagged Brown POS tags

- `tokens_with_FLE_tags_ca01.txt`  
has an FLE tag wherever tokens_with_brown_tags_ca01.txt has a Brown tag. That is, it is the translated version of tokens_with_brown_tags_ca01.txt.


## II. Process

1. `python getTrainingCorpus.py`  
       *Result:* a file such as `tokens_with_brown_tags_ca01.txt`. (We need to translate the Brown tags in this file to FLE tags.)
2. `python read_csv_file.py [[file name] CSV file] > tagsetTranslation.lexc`  
        *Result:* tagsetTranslation.lexc  
3. Launch FOMA on the command line. In FOMA, read and compile `tagsetTranslation.lexc`, and save the resulting FST as `tagsetTranslation.fst` (see Part I.A above).  
        *Result:* `tagsetTranslation.fst`
4. `python brownToFLE.py tokens_with_brown_tags_ca01.txt`  
        *Result:* The output is sent to `stdout`. It has the same words as the original training corpus file, but with different tags, i.e., FLE instead of Brown tags.
